<header>
    <div class="container">
        <div class="header-content">

            <!-- LOGO -->
            <a href="/" class="logo">electro<span>.</span></a>

            <!-- MENU -->
            <div class="burger-menu">
                <i class="fas fa-bars"></i>
            </div>

            <!-- SEARCH FORM -->
            <div class="search-container">
                <form action="/Search" method="get" style="display: flex; width: 100%;">

                    <input type="text" name="keyword" placeholder="Tìm kiếm sản phẩm..." value="@Context.Request.Query["keyword"]">

                    <button type="submit"><i class="fas fa-search"></i></button>
                </form>
            </div>

            <!-- ICONS -->
            <div class="header-icons">

                <a href="#" class="icon-btn">
                    <i class="fas fa-sync-alt"></i>
                    <span class="icon-badge">0</span>
                </a>

                <a href="#" class="icon-btn">
                    <i class="far fa-heart"></i>
                </a>

                <!-- USER DROPDOWN -->
                <div class="user-dropdown-container">
                    @if (Context.Session.GetString("MaKH") != null)
                    {
                        <a href="#" class="icon-btn user-icon">
                            <i class="fas fa-user"></i>
                            <span class="user-name-label">@Context.Session.GetString("TenUser")</span>
                        </a>
                        <div class="user-dropdown-content logged-in">
                            <h4 class="dropdown-title">Tài khoản của tôi</h4>
                            <a href="/Account/Profile"><i class="fas fa-id-card me-2"></i> Trang cá nhân</a>
                            <a href="/DonHang"><i class="fas fa-shopping-bag me-2"></i> Đơn hàng đã mua</a>
                            <div class="dropdown-divider"></div>
                            <a href="/Account/Logout" class="text-danger"><i class="fas fa-sign-out-alt me-2"></i> Đăng xuất</a>
                        </div>
                    }
                    else
                    {
                        <a href="#" class="icon-btn user-icon">
                            <i class="far fa-user"></i>
                        </a>

                        <div class="user-dropdown-content" id="authDropdown">
                            <div id="loginSection">
                                <h4 class="dropdown-title">Đăng nhập</h4>
                                <form action="/Account/Login" method="post">
                                    <input type="text" name="username" class="dropdown-input" placeholder="Tên đăng nhập" required />
                                    <input type="password" name="password" class="dropdown-input" placeholder="Mật khẩu" required />
                                    <button type="submit" class="btn-login">Đăng nhập</button>
                                </form>
                                <div class="dropdown-footer">
                                    <span>Chưa có tài khoản?</span>
                                    <a href="javascript:void(0)" onclick="toggleAuth('register')" class="link-register">Đăng ký ngay</a>
                                </div>
                            </div>

                            <div id="registerSection" style="display: none;">
                                <h4 class="dropdown-title">Đăng ký</h4>
                                <form action="/Account/Register" method="post">
                                    <input type="text" name="hoten" class="dropdown-input" placeholder="Họ và tên" required />
                                    <input type="text" name="username" class="dropdown-input" placeholder="Tên đăng nhập" required />
                                    <input type="email" name="email" class="dropdown-input" placeholder="Email" required />
                                    <input type="password" name="password" class="dropdown-input" placeholder="Mật khẩu" required />
                                    <button type="submit" class="btn-login btn-register-submit">Tạo tài khoản</button>
                                </form>
                                <div class="dropdown-footer text-center mt-2">
                                    <a href="javascript:void(0)" onclick="toggleAuth('login')" class="link-register small">Quay lại Đăng nhập</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <!-- END USER DROPDOWN -->
                <!-- CART -->
                <div class="cart-info">
                  <a asp-controller="GioHang"
                   asp-action="Index"
                   class="btn btn-outline-primary">
                    <i class="fa-solid fa-cart-shopping"></i> Giỏ hàng
                    </a>
                   
                </div>

            </div>
        </div>
    </div>
</header>